<div ng-controller="ApplicationToolbarCtrl">
    <div class="navbar navbar-default app-toolbar"
         ng-class="{true: 'hide', false: ''}[fullScreenMode]">
        <div class="container-fluid">
            <div class="navbar-left">
                <ul class="nav navbar-nav">
                    <li class="highlight">
                      <a class="lrg" href="" ng-click="openApplicationsModal()">
                        <i class="icon-plus-18-white"></i>
                      </a>
                    </li>

                    <li class="navbar-spacer"></li>
                    <li class="dropdown dropup">
                    <!-- we start -->
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        {{currentDashboard.name | limitTo : dashboardNameLength}} <i class="icon-caret-up-white"></i></a>
                      <ul class="dropdown-menu" role="menu">
                        <li class="dropdown-header">Dashboards</li>
                        <li ng-repeat="board in dashboards">
                          <a class="link-pointer"><i ng-class="{desktop:'icon-stack-grayLightest', grid:'icon-grid-grayLightest'}[board.layout]"></i>
                            <span ng-click="loadDashboard(board)">{{board.name}}</span>
                              <i class="icon-cross-14-grayLightest pull-right" ng-click="openDeleteDashboardModal(board)"></i>
                              <i class="icon-pencil-grayLightest pull-right" ng-click="openEditDashboardModal(board)"></i>
                          </a>
                        </li>
                        <li>
                          <a class="caboose" class="link-pointer" href="" ng-click="openNewDashboardModal()">
                            <!-- TODO create dashboard view-->
                            <i class="icon-plus-14-white"></i>Create a new dashboard
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li class="navbar-spacer"></li>

                    <li class="app" ng-repeat="app in myPinnedApps" ng-class="{true:'',false:'active', 'undefined':'active'}[app.isMinimized]">
                      <a tooltip="{{app.name | limitTo : 15}}"
                          ng-click="maximizeFrame(app)">
                        <img ng-src="{{app.icon.large}}" />
                        <!-- <div ng-class="app.isMinimized && currentDashboard.layout === 'desktop'? 'app-toolbar-inactive-app' : 'app-toolbar-active-app'">&nbsp</div> -->
                      </a>
                    </li>
                </ul>
            </div>

            <div class="navbar-right">
                <ul class="nav navbar-nav">
                  <li ng-click="cascadeWindows()" ng-hide="currentDashboard.layout === 'grid'">
                      <a href="" tooltip="Cascade Windows" tooltip-placement="top">
                        <i class="icon-stack-grayLightest"></i></a>
                    </li>
                    <li ng-click="toggleFullScreenMode();">
                      <a href="" tooltip="Enter Full Screen" tooltip-placement="top">
                        <i class="icon-maximize-grayLightest"></i></a>
                    </li>

                </ul>
            </div>
        </div>
    </div>
    <button class="hiddenToggle appHiddenToggle" ng-click="toggleFullScreenMode();"
        ng-class="{false: 'hide', true:''}[fullScreenMode]"
        tooltip="Exit Full Screen" tooltip-placement="left">
      <i class="icon-minimize-grayLightest"></i>
    </button>
</div>
